as.factor(semasteer) -> s1
as.factor(year) -> y1
levels(s1) -> s2
levels(y1) -> y2
as.integer(s2) -> s3
as.integer(y2) -> y3
sort(s3) -> s4
sort(y3) -> y4
as.factor(s4) -> s5
as.factor(y4) -> y5
#s5 -> studentHeights$學年度
#y5 -> studentHeights$年齡
#studentHeights
str(s5)
s4
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
as.factor(s4) -> s5
str(s5)
str(studentHeights$學年度)
studentHeights$學年度 -> semasteer
studentHeights$年齡 -> year
as.factor(semasteer) -> s1
as.factor(year) -> y1
levels(s1) -> s2
levels(y1) -> y2
as.integer(s2) -> s3
as.integer(y2) -> y3
sort(s3) -> s4
sort(y3) -> y4
as.factor(s4) -> s5
as.factor(y4) -> y5
str(s5)
#s5 -> studentHeights$學年度
#y5 -> studentHeights$年齡
#studentHeights
str(s5)
as.factor(studentHeights$學年度,order=s4)
as.factor(studentHeights$學年度,s4)
as.factor(studentHeights$學年度,levels=s4
as.factor(studentHeights$學年度,levels=s4)
factor(studentHeights$學年度,levels=s4) -> studentHeights$學年度
as.factor(studentHeights$學年度)
factor(studentHeights$學年度,levels=s4) -> studentHeights$學年度
factor(studentHeights$年齡,levels = y4) -> studentHeights$年齡
#s5 -> studentHeights$學年度
#y5 -> studentHeights$年齡
#studentHeights
```
factor(studentHeights$學年度,levels=s4) -> studentHeights$學年度
factor(studentHeights$年齡,levels = y4) -> studentHeights$年齡
studentHeights
factor(studentHeights$學年度,levels=s4) -> studentHeights$學年度
factor(studentHeights$年齡,levels=y4) -> studentHeights$年齡
studentHeights
str(studentHeights$學年度)
studentHeights$學年度 -> semasteer
studentHeights$年齡 -> year
as.factor(semasteer) -> s1
as.factor(year) -> y1
levels(s1) -> s2
levels(y1) -> y2
as.integer(s2) -> s3
as.integer(y2) -> y3
sort(s3) -> s4
sort(y3) -> y4
factor(studentHeights$學年度,levels=s4) -> studentHeights$學年度
factor(studentHeights$年齡,levels=y4) -> studentHeights$年齡
studentHeights
class(studentHeights$學年度)
class(studentHeights$學年度)
colour <- c('G', 'G', 'R', 'Y', 'G', 'Y', 'Y', 'R', 'Y')
col <- factor(colour)
col1 <- factor(colour, levels = c('G', 'R', 'Y'), labels = c('Green', 'Red', 'Yellow')) #labels的内容替换colour相应位置对应levels的内容
col2 <- factor(colour, levels = c('G', 'R', 'Y'), labels = c('1', '2', '3'))
col_vec <- as.vector(col2) #转换成字符向量
col_num <- as.numeric(col2) #转换成数字向量
col3 <- factor(colour, levels = c('G', 'R'))
colour <- c('G', 'G', 'R', 'Y', 'G', 'Y', 'Y', 'R', 'Y')
col <- factor(colour)
col1 <- factor(colour, levels = c('G', 'R', 'Y'), labels = c('Green', 'Red', 'Yellow')) #labels的内容替换colour相应位置对应levels的内容
col2 <- factor(colour, levels = c('G', 'R', 'Y'), labels = c('1', '2', '3'))
col_vec <- as.vector(col2) #转换成字符向量
col_num <- as.numeric(col2) #转换成数字向量
col3 <- factor(colour, levels = c('G', 'R'))
class(col3)
studentHeights$年齡層 -> yearfloor
studentHeights$年齡層 -> yearfloor
factor(yearfloor,levels="6-8","9-12","13-15")
# studentHeights$`年齡層`
factor(yearfloor,levels=c("6-8","9-12","13-15"))
studentHeights$`年齡層` <- factor(yearfloor,levels=c("6-8","9-12","13-15"))
studentHeights$`年齡層`
class(studentHeights$`年齡層`)
str_replace(differentMajors,realEstateRegex,"不動系")
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
# Chunk 1: setup
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
# Chunk 2: data1
jsonlite::fromJSON("https://www.dropbox.com/s/es19f62rijrd8i7/studentHeight.json?dl=1") -> studentHeights
# Chunk 3: ans11
str(studentHeights$學年度)
studentHeights$學年度 -> semasteer
studentHeights$年齡 -> year
as.factor(semasteer) -> s1
as.factor(year) -> y1
levels(s1) -> s2
levels(y1) -> y2
as.integer(s2) -> s3
as.integer(y2) -> y3
sort(s3) -> s4
sort(y3) -> y4
factor(studentHeights$學年度,levels=s4) -> studentHeights$學年度
factor(studentHeights$年齡,levels=y4) -> studentHeights$年齡
studentHeights
class(studentHeights$學年度)
# Chunk 4: ans12
studentHeights$年齡層 -> yearfloor
studentHeights$`年齡層` <- factor(yearfloor,levels=c("6-8","9-12","13-15"))
studentHeights$`年齡層`
# Chunk 5: ans13
# averageHeightByGroup
# Chunk 6: ans14
# heightDifferenceByGroup
# Chunk 1: setup
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
# Chunk 2: data1
jsonlite::fromJSON("https://www.dropbox.com/s/es19f62rijrd8i7/studentHeight.json?dl=1") -> studentHeights
# Chunk 3: ans11
str(studentHeights$學年度)
studentHeights$學年度 -> semasteer
studentHeights$年齡 -> year
as.factor(semasteer) -> s1
as.factor(year) -> y1
levels(s1) -> s2
levels(y1) -> y2
as.integer(s2) -> s3
as.integer(y2) -> y3
sort(s3) -> s4
sort(y3) -> y4
factor(studentHeights$學年度,levels=s4) -> studentHeights$學年度
factor(studentHeights$年齡,levels=y4) -> studentHeights$年齡
studentHeights
class(studentHeights$學年度)
# Chunk 4: ans12
studentHeights$年齡層 -> yearfloor
studentHeights$`年齡層` <- factor(yearfloor,levels=c("6-8","9-12","13-15"))
studentHeights$`年齡層`
# Chunk 5: ans13
# averageHeightByGroup
# Chunk 6: ans14
# heightDifferenceByGroup
str_replace(differentMajors,realEstateRegex,"不動系")
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
differentMajors
realEstateRegex <- "[不動產與城鄉環境學系]"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
jsonlite::fromJSON("https://www.dropbox.com/s/bp0w8tjgrhi79x7/sameMajorDifferentWritings.json?dl=1") -> differentMajors
differentMajors
realEstateRegex <- "(?<=不動)(..|..|...)(?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
a
str_replace(differentMajors,realEstateRegex,"不動系") -> a
a
str_replace(differentMajors,"不動系") -> a
a
str_replace(differentMajors,realEstateRegex,"不動系") -> a
a
as.factor(differentMajors)
levels(facdif) -> currentLevels
as.factor(differentMajors) -> facdif
levels(facdif) -> currentLevels
# currentLevels
currentLevels
bSchoolRegex <- "("(?<=休)(..|..|...)(?=系)"|"(?<=金)(..|..|...)(?=系)")"
bSchoolRegex
as.factor(differentMajors) -> facdif
levels(facdif) -> currentLevels
currentLevels
bSchoolRegex <- "("(?<=休)(..|..|...)(?=系)"|"(?<=金)(..|..|...)(?=系)")"
bSchoolRegex
str_replace(currentLevels,"("(?<=休)(..|..|...)(?=系)"|"(?<=金)(..|..|...)(?=系)")","商學院")
str_replace(currentLevels,"("(?<=休)(..|..|...)(?=系)"|"(?<=金)(..|..|...)(?=系)")","商學院")
str_replace(currentLevels,"(?<=休)(..|..|...)(?=系)","商學院")
str_replace(differentMajors,realEstateRegex,"不動系")
as.factor(differentMajors) -> facdif
levels(facdif) -> currentLevels
as.character(currentLevels) -> currentLevels
currentLevels
bSchoolRegex <- "("(?<=休)(..|..|...)(?=系)"|"(?<=金)(..|..|...)(?=系)")"
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
str_replace(currentLevels,"(?<=休)(..|..|...)(?=系)","商學院")
#bSchoolRegex <- "("(?<=休)(..|..|...)(?=系)"|"(?<=金)(..|..|...)(?=系)")"
"(?<=休)(..|..|...)(?=系)" -> bSchoolRegex
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
as.factor(differentMajors) -> facdif
levels(facdif) -> currentLevels
as.character(currentLevels) -> currentLevels
currentLevels
realEstateRegex <- "(?<=不動)(..|..|...)(?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
back_regex <- "(?!弟)"
# back_regex
back_regex <- "(?!弟)"
back_regex
pattern <- paste0("段(兄|兄弟)",back_regex)
str_extract_all(twoNames, pattern)
pattern <- paste0("段(兄|兄弟)",back_regex)
str_extract_all(twoNames, pattern)
twoNames <- "有人叫他段兄，但也有有人叫他段兄弟，最常...."
str_extract_all(twoNames, "段(兄|兄弟)")
pattern <- paste0("段(兄|兄弟)",back_regex)
str_extract_all(twoNames, pattern)
realEstateRegex <- "(?<=不動)[產|與|城鄉|環境學](?=系)"
realEstateRegex
realEstateRegex <- "(?<=不動)[產|與|城鄉|環境學](?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
pattern <- "姓?段(譽|兄|兄弟|大哥|公子|相公|君|的小子)(?!弟)"
str_extract_all(context_picked_split[[1]], pattern = pattern) -> mention_duan
realEstateRegex <- "(?<=不動)[產|與|城鄉|環境學](?=系)"
realEstateRegex
realEstateRegex <- "(?<=不動)[產|與|城鄉|環境學](?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex <- "(?<=不動)(產|與|城鄉|環境學)(?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex <- "(?<=不動)(產與城鄉環境學)(?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
knitr::opts_chunk$set(echo = F, eval=F)
library(jsonlite); library(lubridate); library(readr); library(stringr);
realEstateRegex <- "(?<=不動)(產與城鄉環境學)(?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex <- "(?<=不動)(產|與|城鄉|環境|學)?系"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
as.factor(differentMajors) -> facdif
levels(facdif) -> currentLevels
as.character(currentLevels) -> currentLevels
currentLevels
bSchoolRegex <- "[ "休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"| "金融系"]"
bSchoolRegex
bSchoolRegex <- "[ "休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
bSchoolRegex <- "[ "休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
str_replace(currentLevels,bSchoolRegex,"商學院")
bSchoolRegex <- "[ "休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "[ "休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|
bSchoolRegex <- "[ "休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|
"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex
bSchoolRegex <- "["休閒與運動管理學系"|"休運系"]"
bSchoolRegex <- "["休閒與運動管理學系"|"休運系"]"
bSchoolRegex <- "("休閒與運動管理學系"|"休運系")"
#bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- ("休閒與運動管理學系"|"休運系")
#bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- ("休閒與運動管理學系"|"休運系")
#bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "(休閒與運動管理學系|休運系)"
#bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "[休閒與運動管理學系|休運系]"
#bSchoolRegex <- "["休閒與運動管理學系"|"休運系"|"金融與合作經營學系"|"金融與合作學系"|"金融系"]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "(休閒與運動管理學系|休運系|金融與合作經營學系|金融與合作學系|金融系]"
bSchoolRegex
str_extract(currentLevels,bSchoolRegex)
str_extract(currentLevels,bSchoolRegex)
bSchoolRegex <- "(休閒與運動管理學系|休運系|金融與合作經營學系|金融與合作學系|金融系]"
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
str_replace(currentLevels,bSchoolRegex,"商學院")
bSchoolRegex <- "(休閒與運動管理學系|休運系|金融與合作經營學系|金融與合作學系|金融系)"
bSchoolRegex
str_replace(currentLevels,bSchoolRegex,"商學院")
realEstateRegex <- "(?<=不動)(產|與|城鄉|環境|學)?系"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
realEstateRegex <- "(?<=不動)[產|與|城鄉|環境|學]?系"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
str_replace(currentLevels,bSchoolRegex,"商學院")
as.factor(differentMajors) -> facdif
levels(facdif) -> currentLevels
as.character(currentLevels) -> currentLevels
currentLevels
soc <- ("社會系"|"社會學系")
socw <- ("社工系"|"社會工作學系")
lex <- ("休閒與運動管理學系"|"休運系")
fin <- ("金融系"|"金融與合作經營學系"|"金融與合作學系")
eco <- ("經濟系"|"經濟學系")
pol <- ("公共行政系"|"公共行政暨政策學系"|"公行系")
dm <- ("不動系"|"不動產城鄉學系"|"不動產與城鄉環境學系")
str_replace_all(differentMajors,soc,"社會系") -> differentMajors
str_replace_all(differentMajors,socw,"社工系") -> differentMajors
str_replace_all(differentMajors,lex,"休運系") -> differentMajors
str_replace_all(differentMajors,fin,"金融系") -> differentMajors
str_replace_all(differentMajors,eco,"經濟系") -> differentMajors
str_replace_all(differentMajors,pol,"公行系") -> differentMajors
str_replace_all(differentMajors,dm,"不動系") -> differentMajors
differentMajors
as.factor(differentMajors) -> facdif
levels(facdif) -> currentLevels
as.character(currentLevels) -> currentLevels
currentLevels
soc <- ("社會系"|"社會學系")
socw <- ("社工系"|"社會工作學系")
lex <- ("休閒與運動管理學系"|"休運系")
fin <- ("金融系"|"金融與合作經營學系"|"金融與合作學系")
eco <- ("經濟系"|"經濟學系")
pol <- ("公共行政系"|"公共行政暨政策學系"|"公行系")
dm <- ("不動系"|"不動產城鄉學系"|"不動產與城鄉環境學系")
str_replace_all(differentMajors,soc,"社會系") -> differentMajors
str_replace_all(differentMajors,socw,"社工系") -> differentMajors
str_replace_all(differentMajors,lex,"休運系") -> differentMajors
str_replace_all(differentMajors,fin,"金融系") -> differentMajors
str_replace_all(differentMajors,eco,"經濟系") -> differentMajors
str_replace_all(differentMajors,pol,"公行系") -> differentMajors
str_replace_all(differentMajors,dm,"不動系") -> differentMajors
differentMajors
levels(differentMajors/)
levels(differentMajors)
differentMajors
levels(differentMajors)
class(differentMajors)
levels(differentMajors)
levels(differentMajors)
as.factor(differentMajors)
levels(differentMajors)
differentMajors
soc <- ("社會系"|"社會學系")
socw <- ("社工系"|"社會工作學系")
lex <- ("休閒與運動管理學系"|"休運系")
fin <- ("金融系"|"金融與合作經營學系"|"金融與合作學系")
eco <- ("經濟系"|"經濟學系")
pol <- ("公共行政系"|"公共行政暨政策學系"|"公行系")
dm <- ("不動系"|"不動產城鄉學系"|"不動產與城鄉環境學系")
str_replace_all(currentLevels,soc,"社會系") -> currentLevels
str_replace_all(currentLevels,socw,"社工系") -> currentLevels
str_replace_all(currentLevels,lex,"休運系") -> currentLevels
str_replace_all(currentLevels,fin,"金融系") -> currentLevels
str_replace_all(currentLevels,eco,"經濟系") -> currentLevels
str_replace_all(currentLevels,pol,"公行系") -> currentLevels
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
as.factor(differentMajors)
levels(differentMajors)
differentMajors
levels(differentMajors)
as.factor(differentMajors)
as.factor(differentMajors) -> differentMajors
levels(differentMajors)
as.factor(differentMajors) -> differentMajors
levels(differentMajors)
soc <- ("社會系"|"社會學系")
socw <- ("社工系"|"社會工作學系")
lex <- ("休閒與運動管理學系"|"休運系")
fin <- ("金融系"|"金融與合作經營學系"|"金融與合作學系")
eco <- ("經濟系"|"經濟學系")
pol <- ("公共行政系"|"公共行政暨政策學系"|"公行系")
dm <- ("不動系"|"不動產城鄉學系"|"不動產與城鄉環境學系")
str_replace_all(currentLevels,soc,"社會系") -> currentLevels
str_replace_all(currentLevels,socw,"社工系") -> currentLevels
str_replace_all(currentLevels,lex,"休運系") -> currentLevels
str_replace_all(currentLevels,fin,"金融系") -> currentLevels
str_replace_all(currentLevels,eco,"經濟系") -> currentLevels
str_replace_all(currentLevels,pol,"公行系") -> currentLevels
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
differentMajors
as.factor(differentMajors) -> differentMajors
levels(differentMajors)
soc <- ("社會系"|"社會學系")
socw <- ("社工系"|"社會工作學系")
lex <- ("休閒與運動管理學系"|"休運系")
fin <- ("金融系"|"金融與合作經營學系"|"金融與合作學系")
eco <- ("經濟系"|"經濟學系")
pol <- ("公共行政系"|"公共行政暨政策學系"|"公行系")
dm <- ("不動系"|"不動產城鄉學系"|"不動產與城鄉環境學系")
str_replace_all(currentLevels,soc,"社會系") -> currentLevels
str_replace_all(currentLevels,socw,"社工系") -> currentLevels
str_replace_all(currentLevels,lex,"休運系") -> currentLevels
str_replace_all(currentLevels,fin,"金融系") -> currentLevels
str_replace_all(currentLevels,eco,"經濟系") -> currentLevels
str_replace_all(currentLevels,pol,"公行系") -> currentLevels
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
levels(differentMajors) <- currentLevels1
differentMajors
currentLevels
levels(differentMajors) <- currentLevels1
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
dm <- ("不動系"|"不動產城鄉學系"|"不動產與城鄉環境學系")
as.factor(differentMajors) -> differentMajors
levels(differentMajors)
soc <- (社會系|社會學系)
socw <- (社工系|社會工作學系)
lex <- (休閒與運動管理學系|休運系)
fin <- (金融系|金融與合作經營學系|金融與合作學系)
eco <- (經濟系|經濟學系)
pol <- (公共行政系|公共行政暨政策學系|公行系)
dm <- (不動系|不動產城鄉學系|不動產與城鄉環境學系)
str_replace_all(currentLevels,soc,"社會系") -> currentLevels
str_replace_all(currentLevels,socw,"社工系") -> currentLevels
str_replace_all(currentLevels,lex,"休運系") -> currentLevels
str_replace_all(currentLevels,fin,"金融系") -> currentLevels
str_replace_all(currentLevels,eco,"經濟系") -> currentLevels
str_replace_all(currentLevels,pol,"公行系") -> currentLevels
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
levels(differentMajors) <- currentLevels1
differentMajors
soc <- (社會系|社會學系)
soc <- (社會系|社會學系)
as.factor(differentMajors) -> differentMajors
levels(differentMajors)
soc <- (社會系|社會學系)
socw <- (社工系|社會工作學系)
lex <- (休閒與運動管理學系|休運系)
fin <- (金融系|金融與合作經營學系|金融與合作學系)
eco <- (經濟系|經濟學系)
pol <- (公共行政系|公共行政暨政策學系|公行系)
dm <- (不動系|不動產城鄉學系|不動產與城鄉環境學系)
str_replace_all(currentLevels,soc,"社會系") -> currentLevels
str_replace_all(currentLevels,socw,"社工系") -> currentLevels
str_replace_all(currentLevels,lex,"休運系") -> currentLevels
str_replace_all(currentLevels,fin,"金融系") -> currentLevels
str_replace_all(currentLevels,eco,"經濟系") -> currentLevels
str_replace_all(currentLevels,pol,"公行系") -> currentLevels
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
levels(differentMajors) <- currentLevels1
differentMajors
covid19$地區 <- covid19$縣市
as.factor(differentMajors) -> differentMajors
levels(differentMajors)
soc <- "社會系|社會學系"
socw <- "社工系|社會工作學系"
lex <- "休閒與運動管理學系|休運系"
fin <- "金融系|金融與合作經營學系|金融與合作學系"
eco <- "經濟系|經濟學系"
pol <- "公共行政系|公共行政暨政策學系|公行系"
dm <- "不動系|不動產城鄉學系|不動產與城鄉環境學系"
str_replace_all(currentLevels,soc,"社會系") -> currentLevels
str_replace_all(currentLevels,socw,"社工系") -> currentLevels
str_replace_all(currentLevels,lex,"休運系") -> currentLevels
str_replace_all(currentLevels,fin,"金融系") -> currentLevels
str_replace_all(currentLevels,eco,"經濟系") -> currentLevels
str_replace_all(currentLevels,pol,"公行系") -> currentLevels
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
levels(differentMajors) <- currentLevels1
differentMajors
as.factor(differentMajors) -> differentMajors
levels(differentMajors)
soc <- "社會系|社會學系"
socw <- "社工系|社會工作學系"
lex <- "休閒與運動管理學系|休運系"
fin <- "金融系|金融與合作經營學系|金融與合作學系"
eco <- "經濟系|經濟學系"
pol <- "公共行政系|公共行政暨政策學系|公行系"
dm <- "不動系|不動產城鄉學系|不動產與城鄉環境學系"
str_replace_all(currentLevels,soc,"社會系") -> currentLevels
str_replace_all(currentLevels,socw,"社工系") -> currentLevels
str_replace_all(currentLevels,lex,"休運系") -> currentLevels
str_replace_all(currentLevels,fin,"金融系") -> currentLevels
str_replace_all(currentLevels,eco,"經濟系") -> currentLevels
str_replace_all(currentLevels,pol,"公行系") -> currentLevels
str_replace_all(currentLevels,dm,"不動系") -> currentLevels1
levels(differentMajors) <- currentLevels1
differentMajors
table(unlist(mention_duan)) -> table_duan
realEstateRegex <- "(?<=不動)[:alum](?=系)"
realEstateRegex
str_replace(differentMajors,realEstateRegex,"不動系")
str_replace(differentMajors,realEstateRegex,"不動系")
